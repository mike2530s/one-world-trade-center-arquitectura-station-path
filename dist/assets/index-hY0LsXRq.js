(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}})();let i={},c=!1;const u="js-spin-fwd",f="js-spin-bwd",d="js-transitions-disabled",p=1e3,h=e=>{i[e]={activeIndex:0,limit:0,$stage:null,$controls:null,canvas:!1}},v=e=>{const s=i[e],t=$(`.carousel__control[data-carousel="${e}"]`);for(let n=0;n<s.limit;n++)t.append(`<a href="#" data-index="${n}" data-carousel="${e}"></a>`);let a=t.children().last().outerHeight();t.css("height",30+s.limit*a),s.$controls=t.children(),s.$controls.eq(s.activeIndex).addClass("active")},m=e=>{const s=i[e];$(`#carousel-${e} .spinner`).children().each((t,a)=>{$(a).attr("data-index",t),s.limit++})},g=e=>{const s=$(`#carousel-${e} .spinner`).parent(),t=$(`#carousel-${e} .spinner`).parent().html();s.append(t),$(`#carousel-${e} .spinner`).last().addClass("spinner--right"),$(`#carousel-${e} .spinner--right`).removeClass("spinner--left")},C=e=>{$(`#carousel-${e} .spinner__face`).each((s,t)=>{const a=$(t);let n=$(t).attr("data-bg");a.children().css("backgroundImage",`url(${x(n,e)})`)})},x=(e,s)=>{const t=i[s];if(t.canvas||(t.canvas=document.createElement("canvas"),t.canvas.height=1,t.canvas.width=1),t.canvas.getContext){const a=t.canvas.getContext("2d");return a.fillStyle=e,a.fillRect(0,0,1,1),t.canvas.toDataURL()}return!1},_=e=>{m(e),C(e),g(e),v(e)},l=(e=1,s)=>{if(c||!e)return;const t=i[s];t.activeIndex+=e,c=!0,t.activeIndex>=t.limit&&(t.activeIndex=0),t.activeIndex<0&&(t.activeIndex=t.limit-1),$(`#carousel-${s} .spinner__face.js-active`),$(`#carousel-${s} .spinner__face[data-index=${t.activeIndex}]`).addClass("js-next"),e>0?t.$stage.addClass(u):t.$stage.addClass(f),t.$controls.removeClass("active"),t.$controls.eq(t.activeIndex).addClass("active"),setTimeout(()=>{S(e,s)},p,e)},S=(e,s)=>{const t=i[s];$(`#carousel-${s} .js-active`).removeClass("js-active"),$(`#carousel-${s} .js-next`).removeClass("js-next").addClass("js-active"),t.$stage.addClass(d).removeClass(u).removeClass(f),$(`#carousel-${s} .js-active`).each((a,n)=>{const o=$(n);o.prependTo(o.parent())}),setTimeout(()=>{t.$stage.removeClass(d),c=!1},100)},b=()=>{document.onkeyup=e=>{let s=null;if($(".carousel-section").each(function(){const t=this.getBoundingClientRect();if(t.top<=window.innerHeight/2&&t.bottom>=window.innerHeight/2)return s=this.id.split("-")[1],!1}),s)switch(e.keyCode){case 38:l(-1,s);break;case 40:l(1,s);break}},$(document).on("click",".carousel__control a",function(e){if(e.preventDefault(),c)return;const s=$(e.target),t=s.attr("data-carousel"),a=parseInt(s.attr("data-index"),10),n=i[t];l(a-n.activeIndex,t)})},y=e=>{const s=i[e];s.$stage=$(`#carousel-${e} .carousel__stage`)},j=e=>{h(e),y(e),_(e)},L=()=>{for(let e=1;e<=5;e++)j(e);b(),$('a[href^="#"]').on("click",function(e){e.preventDefault();const s=$(this.getAttribute("href"));s.length&&$("html, body").stop().animate({scrollTop:s.offset().top},1e3)})};$(()=>{L()});
